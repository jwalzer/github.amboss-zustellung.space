{{- range $index, $ytList := (seq 0 (sub (len .Params) 1) ) }}
  {{- if eq (mod $index 3) 0 }}
<div class="w3-row-padding ">
  {{- end }}
  <div class="w3-col m4 ">
    <div class="w3-card-4 w3-padding-small w3-center w3-theme-l3  ">
      {{/* https://github.com/gohugoio/hugo/blob/master/tpl/tplimpl/embedded/templates/shortcodes/youtube.html */}}
      {{- $pc := $.Page.Site.Config.Privacy.YouTube -}}
      {{- if not $pc.Disable -}}
        {{- $ytHost := cond $pc.PrivacyEnhanced  "www.youtube-nocookie.com" "www.youtube.com" -}}
        {{- $id := $.Get $index -}}
        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;" >
          <iframe
            src="https://{{ $ytHost }}/embed/{{ $id }}"
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;"
            allowfullscreen >
          </iframe>
        </div>
      {{ end -}}
    </div>
  </div>
    {{- if or (eq (mod $index 3) 2) (eq $index (sub (len $.Params) 1 )) }}
</div>
<p>
    {{- end }}
{{- end }}
